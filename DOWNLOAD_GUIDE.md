# 下载功能使用说明

## 功能位置

歌曲下载功能已添加到以下位置：

### 1. 搜索结果页面
- 位置：搜索音乐后的结果列表
- 操作：点击每首歌曲右侧的绿色下载按钮
- 图标：<i class="fas fa-download"></i>

### 2. 播放列表页面
- 位置：侧边栏点击"播放列表"
- 操作：点击每首歌曲右侧的绿色下载按钮
- 功能：可以下载播放列表中的任意歌曲

### 3. 歌词页面
- 位置：侧边栏点击"歌词展示"
- 操作：点击歌曲信息下方的"下载歌曲"按钮
- 样式：白色边框按钮，悬停时变为实心白色

### 4. 播放器
- 位置：底部播放器右侧
- 操作：点击绿色的下载图标
- 功能：下载当前正在播放的歌曲

## 下载流程

1. **已有URL的歌曲**
   - 直接创建下载链接
   - 触发浏览器下载

2. **未获取URL的歌曲**
   - 先调用API获取歌曲URL
   - 使用320kbps音质
   - 获取成功后自动下载

3. **文件命名规则**
   - 格式：`歌曲名 - 歌手名.mp3`
   - 示例：`告白气球 - 周杰伦.mp3`

## 技术实现

### 工具函数
位置：`src/utils/download.js`

- `downloadFile()` - 执行文件下载
- `generateFilename()` - 生成文件名
- `downloadSong()` - 完整下载流程

### 样式设计
- 绿色下载按钮：`#10ac84`
- 悬停颜色：`#0e9470`
- 圆形按钮，带图标
- 悬停时有放大动画

## 注意事项

⚠️ **重要提示**

1. **版权限制**
   - 部分歌曲可能因版权限制无法下载
   - 如果无法获取下载链接，会显示提示信息

2. **浏览器兼容性**
   - 现代浏览器均支持
   - 部分浏览器可能会拦截自动下载

3. **下载说明**
   - 下载的是在线音乐链接，需要网络连接
   - 某些音乐平台的链接可能有时效性
   - 建议下载后及时保存

4. **使用建议**
   - 仅供个人学习和欣赏
   - 请勿用于商业用途
   - 支持正版音乐

## API文档

完整的API文档地址：https://music-api.gdstudio.xyz/api.php

该地址已添加到"发现音乐"页面的使用提示中。
